function start(){isRunning?(stop(),pauseAudio.play(),isRunning=!1):(startAudio.play(),pomo_indicator.innerHTML=config[config.sequence[sequencePos]].name,pomo_btn.style.color="#1ba11b",pomo_title.innerHTML=convert(m,s)+" - "+config[config.sequence[sequencePos]].name,isRunning=!0,timer=setInterval(function(){s-=1,0>s&&(m-=1,s=59),0>m?(clearInterval(timer),sequencePos=sequencePos<config.sequence.length-1?sequencePos+1:0,s=config[config.sequence[sequencePos]].s,m=config[config.sequence[sequencePos]].m,pomo_timer.innerHTML=convert(m,s),pomo_title.innerHTML=convert(m,s)+" - "+config[config.sequence[sequencePos]].name,pomo_indicator.innerHTML=config[config.sequence[sequencePos]].name,stop(),ringAudio.play()):(pomo_timer.innerHTML=convert(m,s),pomo_title.innerHTML=convert(m,s)+" - "+config[config.sequence[sequencePos]].name)},1e3))}function stop(){isRunning=!1,pomo_btn.style.color="#a11b1b",timer&&clearInterval(timer)}function convert(e,n){return("0"+e).slice(-2)+":"+("0"+n).slice(-2)}var config={1:{s:10,m:0,name:"Work"},2:{s:0,m:5,name:"Short break"},3:{s:0,m:1,name:"Long break"},sequence:[1,2,1,2,1,2,1,3]},isRunning=!1,pomo_btn,pomo_timer,pomo_indicator,pomo_title,timer,sequencePos=0,s,m,startAudio,pauseAudio,ringAudio;window.addEventListener("load",function(){startAudio=document.getElementById("start-audio"),pauseAudio=document.getElementById("pause-audio"),ringAudio=document.getElementById("ring-audio"),pomo_btn=document.getElementById("pomo-btn"),pomo_timer=document.getElementById("pomo-timer"),pomo_indicator=document.getElementById("pomo-indicator"),pomo_title=document.getElementById("pomo-title"),s=config[config.sequence[sequencePos]].s,m=config[config.sequence[sequencePos]].m,pomo_timer.innerHTML=convert(m,s)}),window.addEventListener("keydown",function(e){"Space"==e.code&&start()});